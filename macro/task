Задание №21388

Написать макросценарий на GNU m4, который порождает программу, способную вычислять и выводить формулы. На вход этому сценарию подаётся список формул, на выходе — программа, которую можно скомпилировать, запустить, ввести два операнда, вычислить и вывести результаты.
Порождаемая программа должна быть написана на языке Си.
Формул в списке несколько, каждая формула представлена в виде "int(выражение)".
Выражение содержит целые операнды с именами do(0) и do(1).
Операнды передаются в виде параметров командной строки.

Пример входного файла:
int(3+do(0)*abs(do(1)-42))
int(do(0)/42+do(1)*do(1))

Пример генерации программы:
m4 генератор.m4 входной_файл > программа.c

Пример запуска программы 
./program 2 3
75
9

Максимальный балл: 6 из 6.
